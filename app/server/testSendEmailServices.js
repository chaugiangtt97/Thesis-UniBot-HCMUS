/* eslint-disable no-unused-vars */
/* eslint-disable no-console */

const users = [
  {
    'name': 'Nguyen Duy Dang Khoa',
    'email': '21127078@student.hcmus.edu.vn'
  },
  {
    'name': 'Dang Khoa',
    'email': 'khoanguyenduydang1980@gmail.com'
  },
  {
    'name': 'Nguy·ªÖn Duy Ho√†ng Ph√∫c',
    'email': 'nguyenduyhoangp@gmail.com'
  },
  {
    'name': 'Tr·∫ßn Th·ªã Nh∆∞ Ti√™n',
    'email': 'tientran.170875@gmail.com'
  },
  {
    'name': 'Nguy·ªÖn Ng·ªçc Ho√†ng Anh',
    'email': 'anhnguyenngochoang2003@gmail.com'
  },
  // {
  //   'name': 'Ph·∫°m Gia Ki·ªát',
  //   'email': 'phamgiakietk14@siu.edu.vn'
  // },
  {
    'name': 'Linh Xe √îm',
    'email': 'ngphuc0413@gmail.com'
  },
  {
    'name': 'Nguy·ªÖn Xu√¢n Ho√†ng',
    'email': '21200009@student.hcmus.edu.vn'
  },
  {
    'name': 'Nguy·ªÖn Xu√¢n Ho√†ng',
    'email': 'xuanhoangnguyen1604@gmail.com'
  },
  {
    'name': 'Nguyen Dinh Phap',
    'email': 'phap1788@gmail.com'
  },
  // {
  //   'name': 'Nguy·ªÖn Th√†nh Ch√≠ T√¢m',
  //   'email': 'nguyenthanhchitam@gmail.com'
  // },
  // {
  //   'name': 'Nguy·ªÖn Ho√†ng Minh',
  //   'email': 'minh.nguyen28122000@gmail.com'
  // },
  {
    'name': 'su thanh long',
    'email': 'long.sustlong2003@hcmut.edu.vn'
  },
  {
    'name': 'abcxyz',
    'email': 'kirigayakazuto5453@gmail.com'
  },
  // {
  //   'name': 'L√™ ƒê√¨nh Th√†nh ƒê·∫°t',
  //   'email': 'thanhdatledinh1510@gmail.com'
  // },
  // {
  //   'name': 'Ng·ªçc B√≠ch',
  //   'email': 'ngocbich9926@gmail.com'
  // },
  // {
  //   'name': 'ƒê·∫∑ng Nh·∫≠t H√≤a',
  //   'email': 'dangnhathoa22@gmail.com'
  // },
  // {
  //   'name': 'JohnNaeder',
  //   'email': 'machtienduy3@gmail.com'
  // },
  // {
  //   'name': 'Thang Huynh Duc',
  //   'email': 'ct07n0149@actvn.edu.vn'
  // },
  {
    'name': 'nguy·ªÖn vƒÉn a',
    'email': 'tranhieukrb2004@gmail.com'
  },
  {
    'name': 'lyminhluan21',
    'email': 'testredfinger21071@gmail.com'
  },
  // {
  //   'name': 'Nhat Minh',
  //   'email': 'corneropeace@gmail.com'
  // },
  // {
  //   'name': 'L√™ Xu√¢n Ki√™n',
  //   'email': 'lexuankien122@gmail.com'
  // },
  {
    'name': 'Nghƒ©a L√™',
    'email': 'nltnghia21@gmail.com'
  },
  // {
  //   'name': 'Nguy·ªÖn Ng·ªçc V≈©',
  //   'email': 'nnvu21@clc.fitus.edu.vn'
  // },
  {
    'name': 'Tran Thuan Phat',
    'email': '21127666@student.hcmus.edu.vn'
  },
  {
    'name': 'Tr·∫ßn Minh Quang',
    'email': '21127407@student.hcmus.edu.vn'
  },
  {
    'name': 'ducanh',
    'email': 'maitranducanh6789@gmail.com'
  },
  {
    'name': 'Hi Hi Vih',
    'email': 'bqvinh21@clc.fitus.edu.vn'
  },
  // {
  //   'name': 'Nlhp',
  //   'email': 'nguyenlehoaiphuc36@gmail.com'
  // },
  // {
  //   'name': 'Nguyen Ngoc Minh Chau',
  //   'email': 'chauhocbai@gmail.com'
  // },
  {
    'name': 'Ng Van A',
    'email': 'freedomtohongkong@gmail.com'
  },
  {
    'name': 'V√µ Qu·ªëc Quang',
    'email': '22120299@student.hcmus.edu.vn'
  },
  // {
  //   'name': 'L√™ H·ªØu Minh Quang',
  //   'email': 'lhmquang231@clc.fitus.edu.vn'
  // },
  // {
  //   'name': 'V≈© Ng·ªçc Minh Quang',
  //   'email': 'quangvu270405@gmail.com'
  // },
  {
    'name': 'V≈© Ng·ªçc Minh Quang',
    'email': 'justanoob274@gmail.com'
  },
  // {
  //   'name': 'MyTest',
  //   'email': 'mahhentoi@gmail.com'
  // },
  {
    'name': 'wendy',
    'email': 'doluly2115@gmail.com'
  },
  // {
  //   'name': 'Nguy·ªÖn Th√†nh Huy',
  //   'email': 'hn4409906@gmail.com'
  // },
  {
    'name': 'Yiting',
    'email': 'yiting2106@gmail.com'
  },
  // {
  //   'name': 'H√† Mu√¥n',
  //   'email': 'muon.ha.spbleti@gmail.com'
  // },
  // {
  //   'name': 'vgg',
  //   'email': 'dghah595@gmail.com'
  // },
  {
    'name': 'Ph·∫°m Anh Qu√¢n',
    'email': 'quanpham2112004@gmail.com'
  },
  {
    'name': 'Tr√¢m',
    'email': 'ncham413@gmail.com'
  },
  {
    'name': 'ThanhTai',
    'email': 'thanhtai0175@gmail.com'
  },
  {
    'name': 'Tr·ªçng Nguy·ªÖn',
    'email': 'trongcdmt@gmail.com'
  },
  // {
  //   'name': 'tien1801',
  //   'email': 'tienlec12@gmail.com'
  // },
  {
    'name': 'kinh',
    'email': 'kinh30072004k@gmail.com'
  },
  {
    'name': 'A',
    'email': 'thaihuy15a2@gmail.com'
  },
  {
    'name': 'T√®o',
    'email': 'uncle92306@gmail.com'
  },
  {
    'name': 'Nguy·ªÖn Tr·ªçng Hi·∫øu',
    'email': 'hieumaric@gmail.com'
  },
  // {
  //   'name': 'B·∫£o thi√™n',
  //   'email': 'tranbam785@gmail.com'
  // },
  {
    'name': 'anhatdeptrai',
    'email': 'vohuuhoangnhat9@gmail.com'
  },
  // {
  //   'name': 'Deptraiso1vn',
  //   'email': 'kienthucfanpage@gmail.com'
  // },
  {
    'name': 'Tr·ªãnh VƒÉn Ti·∫øn',
    'email': 'trinhtien02122003@gmail.com'
  },
  {
    'name': 'abc',
    'email': 'phamnhatminhtn@gmail.com'
  },
  {
    'name': '123123',
    'email': 'khoatdk007@gmail.com'
  },
  {
    'name': 'PeterPain',
    'email': 'phghuy0101@gmail.com'
  },
  {
    'name': 'aassiimmaa',
    'email': 'nguyenthanhanvp2690@gmail.com'
  },
  {
    'name': 'nguyen van van',
    'email': 'chiminhtran179@gmail.com'
  },
  {
    'name': 'nhansunday',
    'email': 'sbtc.walkingdead@gmail.com'
  },
  {
    'name': 'le thien',
    'email': 'agin0969@gmail.com'
  },
  {
    'name': 'Nguyen Thanh Binh',
    'email': 'thanhbinhcvak5@gmail.com'
  },
  {
    'name': 'Mai Hong Quan',
    'email': 'hongquanmaidz@gmail.com'
  },
  {
    'name': 'Nguy·ªÖn VƒÉn Kh·∫£i',
    'email': 'truongvankhai.haui@gmail.com'
  },
  {
    'name': 'Nameless',
    'email': 'sekirovn@gmail.com'
  },
  // {
  //   'name': 'Ng·ªçc Anh',
  //   'email': 'gggg.2k4@gmail.com'
  // },
  // {
  //   'name': '123',
  //   'email': 'nguyendinhchienvnex@gmail.com'
  // },
  // {
  //   'name': 'Cao Nguy·ªÖn Kh√°nh',
  //   'email': 'cnkhanh21@clc.fitus.edu.vn'
  // },
  {
    'name': 'th√°i vi·∫øt l·∫≠p',
    'email': 'lapthai03@gmail.com'
  },
  {
    'name': 'Ng√¥ T·∫•n T√†i',
    'email': 'tantai13102005@gmail.com'
  },
  {
    'name': 'VƒÉn T√πng',
    'email': 'vantung@gmail.com'
  },
  {
    'name': 'Van Ty',
    'email': 'tiennfrozen2004@gmail.com'
  },
  // {
  //   'name': 'B√πi Phi √Çn',
  //   'email': 'buiphian2005@gmail.com'
  // },
  {
    'name': 'gogorun235',
    'email': 'gogorun235@gmail.com'
  },
  {
    'name': 'vianhlagio',
    'email': 'thongvandev2307@gmail.com'
  },
  {
    'name': 'Q',
    'email': 'sonbac2527@gmail.com'
  },
  // {
  //   'name': 'Nguy·ªÖn Ph·∫°m Tu√¢n',
  //   'email': 'tuannguyenpham12@gmail.com'
  // },
  // {
  //   'name': 'cuong',
  //   'email': 'vietcuong.it@gmail.com'
  // },
  {
    'name': 'Phan ƒê·∫°i Vƒ©',
    'email': 'phandaivi253.study@gmail.com'
  },
  // {
  //   'name': 'T√∫',
  //   'email': 'wimpier-mow-0o@icloud.com'
  // },
  {
    'name': 'Nguy·ªÖn Khoa',
    'email': 'nqdkhoa23@clc.fitus.edu.vn'
  },
  {
    'name': 'Tan',
    'email': 'ken1162004@gmail.com'
  },
  {
    'name': 'Nguy·ªÖn',
    'email': 'ntduong21@clc.fitus.edu.vn'
  },
  {
    'name': 'Thinh',
    'email': 'tndthinh2419@clc.fitus.edu.vn'
  },
  {
    'name': 'Tr·∫ßn Th·ªã Ng·ªçc Tr√¢m',
    'email': 'tramnp2006@gmail.com'
  },
  // {
  //   'name': 'H·ªì ƒê√¨nh Tr√≠',
  //   'email': 'chris@gmail.com'
  // },
  // {
  //   'name': 'H·ªì ƒê√¨nh Tr√≠',
  //   'email': 'hodinht2@gmail.com'
  // },
  // {
  //   'name': 'Tr∆∞∆°ng T·∫•n D≈©ng',
  //   'email': 'truongtandung1511@gmail.com'
  // },
  {
    'name': 'taitrinh',
    'email': 'tatai22@clc.fitus.edu.vn'
  },
  // {
  //   'name': 'Tr∆∞∆°ng V·ªß Ph√°t',
  //   'email': 'tvphat23@clc.fitus.edu.vn'
  // },
  {
    'name': 'Nguy·ªÖn Minh Vi·ªát',
    'email': 'wadimirluigi11307@gmail.com'
  },
  {
    'name': 'LVT',
    'email': 'longthien2227@gmail.com'
  },
  {
    'name': 'l·∫≠p',
    'email': 'lap.2274802010473@vanlanguni.vn'
  }
  // {
  //   'name': 'Minh Duy',
  //   'email': 'minhduy291106@gmail.com'
  // }
]

// H√†m delay (ngh·ªâ gi·ªØa c√°c l·∫ßn g·ª≠i)
const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms))

import { createTransport } from 'nodemailer'

var transporter = createTransport({
  service: 'gmail',
  auth: {
    user: '',
    pass: 'uboy zuwd vpjf cyjl'
  }
})
const subject = 'D·ª± √°n Chatbot t∆∞ v·∫•n FIT-HCMUS'
var mailOptions = {
  from: 'UniBot-KHTN (2024) <machkiet2003@gmail.com>',
  to: '2112734@student.hcmus.edu.vn',
  subject,
  html: `
  <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√£ X√°c Minh</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 20px auto;
            background: #ffffff;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: #007bff;
            color: #ffffff;
            text-align: center;
            padding: 20px;
        }
        .header h1 {
            margin: 0;
            font-size: 24px;
        }
        .content {
            padding: 20px;
            font-size: 16px;
            color: #333333;
            line-height: 1.5;
        }
        .otp {
            display: block;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            color: #007bff;
            margin: 20px 0;
        }
        .footer {
            background: #f4f4f4;
            text-align: center;
            padding: 10px;
            font-size: 14px;
            color: #777777;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>M√£ X√°c Minh C·ªßa B·∫°n</h1>
        </div>
        <div class="content">
            <p>Xin ch√†o [T√™n ng∆∞·ªùi nh·∫≠n],</p>
            <p>B·∫°n v·ª´a y√™u c·∫ßu m·ªôt m√£ x√°c minh ƒë·ªÉ [l√Ω do g·ª≠i m√£: ƒëƒÉng nh·∫≠p, ƒëƒÉng k√Ω, x√°c nh·∫≠n giao d·ªãch, v.v.]. ƒê√¢y l√† m√£ x√°c minh c·ªßa b·∫°n:</p>
            <div class="otp">[M√É X√ÅC MINH]</div>
            <p>Vui l√≤ng s·ª≠ d·ª•ng m√£ n√†y trong v√≤ng <strong>10 ph√∫t</strong>. N·∫øu b·∫°n kh√¥ng th·ª±c hi·ªán y√™u c·∫ßu n√†y, vui l√≤ng b·ªè qua email n√†y ho·∫∑c li√™n h·ªá v·ªõi ch√∫ng t√¥i ƒë·ªÉ ƒë∆∞·ª£c h·ªó tr·ª£.</p>
            <p>Tr√¢n tr·ªçng,</p>
            <p><strong>[T√™n c√¥ng ty/d·ªãch v·ª•]</strong></p>
        </div>
        <div class="footer">
            <p>ƒê√¢y l√† email t·ª± ƒë·ªông, vui l√≤ng kh√¥ng tr·∫£ l·ªùi email n√†y.</p>
            <p>N·∫øu b·∫°n c·∫ßn h·ªó tr·ª£, vui l√≤ng li√™n h·ªá: [email h·ªó tr·ª£]</p>
        </div>
    </div>
</body>
</html>` }

// const subject = 'D·ª± √°n Chatbot FIT-HCMUS - Chia s·∫ª √Ω ki·∫øn c·ªßa b·∫°n!'
// var mailOptions = {
//   from: 'UniBot-KHTN (2024) <machkiet2003@gmail.com>',
//   to: 'nddkhoa21@clc.fitus.edu.vn',
//   cc: 'mvkiet21@clc.fitus.edu.vn',
//   subject,
//   html: `<div style="font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: auto; padding: 20px; border: 1px solid #ddd; border-radius: 10px;">
//           <h2 style="color: #007BFF;">C·∫£m ∆°n b·∫°n, Khoa !</h2>
//           <p>Ch√∫ng t√¥i r·∫•t tr√¢n tr·ªçng s·ª± ·ªßng h·ªô c·ªßa b·∫°n ƒë·ªëi v·ªõi <strong>Chatbot t∆∞ v·∫•n FIT-HCMUS</strong> n√†y c·ªßa ch√∫ng t√¥i.</p>
//           <p>ƒê·ªÉ c√≥ th·ªÉ c·∫£i thi·ªán ·ª©ng d·ª•ng nhi·ªÅu h∆°n n·ªØa, ch√∫ng m√¨nh mong b·∫°n c√≥ th·ªÉ d√†nh ra 5 ph√∫t ƒë·ªÉ ƒëi·ªÅn form feedback t·∫°i ƒë√¢y:</p>
//           <p style="text-align: center;">
//             <a href="https://docs.google.com/forms/d/e/1FAIpQLSfke0wHIFDm5VcyZUJa9R-ybpvDGcd9xOW-6R9qXr8jtfJnXQ/viewform?edit_requested=true" style="background-color: #007BFF; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Form ƒë√°nh gi√° d·ª± √°n</a>
//           </p>
//           <p>üëâ N·∫øu b·∫°n c√≥ b·∫•t k·ª≥ c√¢u h·ªèi n√†o, h√£y li√™n h·ªá v·ªõi ch√∫ng t√¥i qua email <a href="nddkhoa21@clc.fitus.edu.vn">nddkhoa21@clc.fitus.edu.vn</a>.</p>
//           <p>üëâ N·∫øu b·∫°n ƒë√£ nh·∫≠n ƒë∆∞·ª£c email v√† ƒëi·ªÅn form n√†y tr∆∞·ªõc ƒë√≥, vui l√≤ng b·ªè qua email n√†y! Xin ch√¢n th√†nh xin l·ªói c√°c b·∫°n v√¨ s·ª± b·∫•t ti·ªán n√†y!.</p>

//           <p style="text-align: center; color: #777;">Tr√¢n tr·ªçng,<br/><strong>ƒê·ªôi ng≈© d·ª± √°n Chatbot t∆∞ v·∫•n FIT-HCMUS</strong></p>
//         </div>`
// }

// transporter.sendMail(mailOptions, function(error, info) {
//   if (error) {
//     console.log('G·ªüi Email Th·∫•t B·∫°i: ', error)
//   } else {
//     console.log('G·ªüi Email Th√†nh C√¥ng: ' + info.response)
//   }
// })

const sendEmails = async () => {
  try {
    // users.map(async (info, index) => {
    var count = 0
    for (const info of users) {
      count = count + 1
      const subject = 'D·ª± √°n Chatbot FIT-HCMUS - Chia s·∫ª √Ω ki·∫øn c·ªßa b·∫°n!'
      var mailOptions = {
        from: 'UniBot-KHTN (2024) <machkiet2003@gmail.com>',
        to: info.email,
        subject,
        html: `<div style="font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: auto; padding: 20px; border: 1px solid #ddd; border-radius: 10px;">
              <h2 style="color: #007BFF;">C·∫£m ∆°n b·∫°n, ${info.name} !</h2>
              <p>Ch√∫ng t√¥i r·∫•t tr√¢n tr·ªçng s·ª± ·ªßng h·ªô c·ªßa b·∫°n ƒë·ªëi v·ªõi <strong>Chatbot t∆∞ v·∫•n FIT-HCMUS</strong> n√†y c·ªßa ch√∫ng t√¥i.</p>
              <p>ƒê·ªÉ c√≥ th·ªÉ c·∫£i thi·ªán ·ª©ng d·ª•ng nhi·ªÅu h∆°n n·ªØa, ch√∫ng m√¨nh mong b·∫°n c√≥ th·ªÉ d√†nh ra 5 ph√∫t ƒë·ªÉ ƒëi·ªÅn form feedback t·∫°i ƒë√¢y:</p>
              <p style="text-align: center;">
                <a href="https://docs.google.com/forms/d/e/1FAIpQLSfke0wHIFDm5VcyZUJa9R-ybpvDGcd9xOW-6R9qXr8jtfJnXQ/viewform?edit_requested=true" style="background-color: #007BFF; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Form ƒë√°nh gi√° d·ª± √°n</a>
              </p>
              <p>üëâ N·∫øu b·∫°n c√≥ b·∫•t k·ª≥ c√¢u h·ªèi n√†o, h√£y li√™n h·ªá v·ªõi ch√∫ng t√¥i qua email <a href="nddkhoa21@clc.fitus.edu.vn">nddkhoa21@clc.fitus.edu.vn</a>.</p>
              <p>üëâ N·∫øu b·∫°n ƒë√£ nh·∫≠n ƒë∆∞·ª£c email v√† ƒëi·ªÅn form n√†y tr∆∞·ªõc ƒë√≥, vui l√≤ng b·ªè qua email n√†y! Xin ch√¢n th√†nh xin l·ªói c√°c b·∫°n v√¨ s·ª± b·∫•t ti·ªán n√†y!.</p>

              <p style="text-align: center; color: #777;">Tr√¢n tr·ªçng,<br/><strong>ƒê·ªôi ng≈© x√¢y d·ª±ng Chatbot t∆∞ v·∫•n FIT-HCMUS</strong></p>
            </div>`
      }

      await transporter.sendMail(mailOptions)
      console.log(`‚úÖ ${count + 1} Email g·ª≠i ƒë·∫øn ${info.email} th√†nh c√¥ng!`)

      // Ngh·ªâ 5 gi√¢y tr∆∞·ªõc khi g·ª≠i email ti·∫øp theo
      await delay(4000)

    }

    // Ch·ªù t·∫•t c·∫£ email ƒë∆∞·ª£c g·ª≠i xong
    // await Promise.all(emailPromises)
    console.log('T·∫•t c·∫£ email ƒë√£ ƒë∆∞·ª£c g·ª≠i th√†nh c√¥ng!')
  } catch (error) {
    console.error('L·ªói g·ª≠i email:', error)
  }
}

sendEmails()
